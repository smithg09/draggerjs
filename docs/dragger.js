let _isLoaded=!1,callbacksFn=[],_isTouch=void 0!==window.ontouchstart;export const dragger=function(t,e,o,n){_isLoaded||document.addEventListener(_isTouch?"touchmove":"mousemove",function(t){let e=t;t.touches&&(e=t.touches[0]);for(var o=0;o<callbacksFn.length;o++)callbacksFn[o](e.clientX,e.clientY)}),_isLoaded=!0;let s=!1,a=!1,c=0,i=0,l=0,u=0;e.addEventListener(_isTouch?"touchstart":"mousedown",function(e){if(e.stopPropagation(),e.preventDefault(),"false"===t.dataset.dragEnabled)return;let o=e;e.touches&&(o=e.touches[0]),s=!0,c=t.offsetLeft-o.clientX,i=t.offsetTop-o.clientY}),document.addEventListener(_isTouch?"touchend":"mouseup",function(e){n&&a&&n(t,parseInt(t.style.left),parseInt(t.style.top)),s=!1,a=!1}),callbacksFn.push(function e(n,d){s&&(!a&&(a=!0,o&&o(t,l,u)),l=n+c,u=d+i,"true"===t.dataset.dragBoundary&&(l=Math.min(window.innerWidth-t.offsetWidth,Math.max(0,l)),u=Math.min(window.innerHeight-t.offsetHeight,Math.max(0,u))),t.style.left=l+"px",t.style.top=u+"px")})};export{dragger as default};
